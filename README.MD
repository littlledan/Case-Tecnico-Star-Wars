# Star Wars Explorer - Serverless API & Frontend

Solu√ß√£o de Back End desenvolvida em Python para o desafio t√©cnico da **PowerOfData**. O projeto implementa uma arquitetura Serverless sobre **Google Cloud Functions**, gerenciada via **API Gateway** e consumindo a SWAPI.

---

## üèóÔ∏è Arquitetura da Solu√ß√£o

O diagrama abaixo ilustra o fluxo de dados e os componentes da arquitetura proposta:


```mermaid
graph LR
    User[Usu√°rio / Streamlit] -- "GET /?category=films&expand=characters" --> Gateway[GCP API Gateway]
    Gateway -- "Roteamento" --> CloudFunc[Cloud Run Function]
    
    subgraph Google Cloud Platform
        Gateway
        CloudFunc
    end
    
    CloudFunc -- "Request (requests lib)" --> SWAPI[Star Wars API Externa]
    SWAPI -- "JSON Data" --> CloudFunc
    CloudFunc -- "Processamento Paralelo & Ordena√ß√£o" --> Gateway
    Gateway -- "JSON Enriquecido" --> User
    
    style User fill:#f9f,stroke:#333,stroke-width:2px
    style SWAPI fill:#bbf,stroke:#333,stroke-width:2px
    style CloudFunc fill:#dfd,stroke:#333,stroke-width:2px

```

Decis√µes T√©cnicas e Implementa√ß√µes
A solu√ß√£o foi desenhada para atender aos requisitos de escalabilidade e performance, indo al√©m do consumo b√°sico de API:

GCP API Gateway: Ponto √∫nico de entrada respons√°vel pelo roteamento e seguran√ßa (Configura√ß√£o em openapi.yaml).

Cloud Functions (2nd Gen): Processamento da regra de neg√≥cio utilizando functions-framework.

Algoritmo de Ordena√ß√£o: Implementa√ß√£o de l√≥gica de sort no backend (via par√¢metro sort), funcionalidade nativamente inexistente na fonte de dados.

Processamento Ass√≠ncrono (Threads): Para a correla√ß√£o de dados (ex: listar nomes de personagens em um filme), foi utilizado ThreadPoolExecutor. Isso permitiu paralelizar m√∫ltiplas requisi√ß√µes HTTP, reduzindo a lat√™ncia de resposta de ~10s para ~1.5s.

Tecnologias Utilizadas
Linguagem: Python 3.10+

Framework Serverless: Google Functions Framework

Concorr√™ncia: concurrent.futures

Testes: Pytest & Mock

Interface: Streamlit (para valida√ß√£o visual)

Nota sobre o Deploy
O c√≥digo foi desenvolvido e testado localmente utilizando o emulador oficial do Google (functions-framework), garantindo compatibilidade total com o ambiente de Cloud. Devido a restri√ß√µes de faturamento na conta pessoal do GCP (bloqueio regional), o deploy em produ√ß√£o foi simulado localmente. Os arquivos de infraestrutura (openapi.yaml) est√£o inclusos para demonstrar o provisionamento.

Como executar o projeto
1. Instala√ß√£o

python -m venv venv
# Ative a venv
pip install -r requirements.txt

2. Executar Back End (Simula√ß√£o Cloud)

functions-framework --target=starwars_search --debug

3. Executar Front End (Interface de Teste)
Em um novo terminal (com a venv ativa):

streamlit run frontend.py

4. Executar Testes Unit√°rios

pytest